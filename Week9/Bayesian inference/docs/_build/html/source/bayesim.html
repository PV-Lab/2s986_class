<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>bayesim package &#8212; bayesim 0.9.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../index.html">
          bayesim</a>
        <span class="navbar-text pull-left"><b></b></span>

        <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            
                <li><a href="../genindex.html">Index</a></li>
                <li><a href="https://github.com/pv-lab/bayesim">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whybayesim.html">Why bayesim?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bayesics.html">Technical Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citingbayesim.html">Citing bayesim</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">bayesim package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-bayesim.model">bayesim.model module</a></li>
<li><a class="reference internal" href="#module-bayesim.params">bayesim.params module</a></li>
<li><a class="reference internal" href="#module-bayesim.pmf">bayesim.pmf module</a></li>
<li><a class="reference internal" href="#module-bayesim">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li>
<div id="sourcelink">
  <a href="../_sources/source/bayesim.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="span12 content">
      
  <div class="section" id="bayesim-package">
<h1>bayesim package<a class="headerlink" href="#bayesim-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-bayesim.model">
<span id="bayesim-model-module"></span><h2>bayesim.model module<a class="headerlink" href="#module-bayesim.model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bayesim.model.Model">
<em class="property">class </em><code class="descclassname">bayesim.model.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The main workhorse class of bayesim. Stores the modeled and observed data as well as a Pmf object which maintains the current probability distribution and grid subdivisions.</p>
<p>Attributes:
[update this]</p>
<dl class="method">
<dt id="bayesim.model.Model.attach_ecs">
<code class="descname">attach_ecs</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.attach_ecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.attach_ecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Define parameters for experimental conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ec_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – names of experimental conditions</li>
<li><strong>ec_tols</strong> (<cite>dict</cite>) – dict of form {ec_name_1:tolerance_1, ec_name_2:tolerance_2, …}, will supersede ec_list</li>
<li><strong>ec_units</strong> (<cite>dict</cite>) – dict of form {ec_name_1:units_1, ec_name_2:units_2, …}, optional</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.attach_fit_params">
<code class="descname">attach_fit_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.attach_fit_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.attach_fit_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach list of parameters to fit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>param_list</strong> – list of Fit_param objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.attach_model">
<code class="descname">attach_model</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.attach_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.attach_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach the model for the data, either by feeding in a file of precomputed data or a function that does the computing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mode</strong> (<cite>str</cite>) – ‘file’ or ‘function’</li>
<li><strong>model_data_func</strong> (<em>callable</em>) – if mode=’function’, provide function here</li>
<li><strong>model_data_path</strong> (<cite>str</cite>) – if mode==’file’, provide path to file</li>
<li><strong>output_column</strong> (<cite>str</cite>) – optional, header of column containing output data (required if different from self.output_var)</li>
<li><strong>calc_model_unc</strong> (<cite>bool</cite>) – whether to calculate model uncertainties as well, defaults to False</li>
<li><strong>verbose</strong> (<cite>bool</cite>) – flag for verbosity, defaults to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.attach_observations">
<code class="descname">attach_observations</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.attach_observations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.attach_observations" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach measured dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obs_data_path</strong> (<cite>str</cite>) – path to HDF5 file containing observed data</li>
<li><strong>keep_all</strong> (<cite>bool</cite>) – whether to keep all the data in the file (longer simulation times) or to clip out data points that are close to each other (defaults to False)</li>
<li><strong>ec_x_var</strong> (<cite>str</cite>) – required if keep_all is False, the experimental condition over which to measure differences (e.g. V for JV(Ti) curves in PV). It will also be used in plotting later.</li>
<li><strong>max_ec_x_step</strong> (<cite>float</cite>) – used if keep_all is False, largest step to take in the ec_x_var before keeping a point even if curve if “flat” (defaults to 0.05 * range of ec_x_var)</li>
<li><strong>thresh_dif_frac</strong> (<cite>float</cite>) – used if keep_all is False, threshold (as a percentage of the maximum value, defaults to 0.03)</li>
<li><strong>fixed_unc</strong> (<cite>float</cite>) – required if running in function mode or if file doesn’t have an ‘uncertainty’ column, value to use as uncertainty in measurement</li>
<li><strong>output_column</strong> (<cite>str</cite>) – optional, header of column containing output data (required if different from self.output_var)</li>
<li><strong>verbose</strong> (<cite>bool</cite>) – flag for verbosity, defaults to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.attach_params">
<code class="descname">attach_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.attach_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.attach_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a param_list object.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.calc_indices">
<code class="descname">calc_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.calc_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.calc_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute starting and ending indices in self.model_data for each point in self.probs.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.calc_model_unc">
<code class="descname">calc_model_unc</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.calc_model_unc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.calc_model_unc" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates largest difference in modeled output along any parameter direction for each experimental condition, to be used for uncertainty in calculating likelihoods. Currently only works if data is on a grid.</p>
<p>(also assumes it’s sorted by param names and then EC’s)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>verbose</strong> (<cite>bool</cite>) – flag for verbosity, defaults to False</li>
<li><strong>model_unc_factor</strong> (<cite>float</cite>) – multiplier on deltas to give uncertainty, defaults to 0.5 - smaller probably means faster convergence, but also higher chance to miss “hot spots”</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.check_data_columns">
<code class="descname">check_data_columns</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.check_data_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.check_data_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the columns in imported data make sense.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model_data</strong> (<cite>DataFrame</cite>) – dataset to check</li>
<li><strong>output_column</strong> (<cite>str</cite>) – optional, header of column containing output data (required if different from self.output_var)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.check_ecs">
<code class="descname">check_ecs</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.check_ecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.check_ecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all experimental conditions are present at each parameter point in modeled data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>gb</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">groupby</span></code>) – Pandas groupby object of model data grouped by parameter points</li>
<li><strong>verbose</strong> (<cite>bool</cite>) – flag for verbosity, defaults to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.comparison_plot">
<code class="descname">comparison_plot</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.comparison_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.comparison_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot observed data vs. highest-probability modeled data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ec_vals</strong> (<cite>dict</cite>) – optional, dict of EC values at which to plot. If not provided, they will be chosen randomly. This can also be a list of dicts for multiple points.</li>
<li><strong>num_ecs</strong> (<cite>int</cite>) – number of EC values to plot, defaults to 1 (ignored if ecs is provided)</li>
<li><strong>num_param_pts</strong> (<cite>int</cite>) – number of the most probable parameter space points to plot (defaults to 1)</li>
<li><strong>ec_x_var</strong> (<cite>str</cite>) – one of self.ec_names, will overwrite if this was provided before in attach_observations, required if it wasn’t. If ec was provided, this will supercede that</li>
<li><strong>fpath</strong> (<cite>str</cite>) – optional, path to save image to if desired</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.ec_names">
<code class="descname">ec_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.ec_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.ec_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of experimental condition names.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.fit_param_names">
<code class="descname">fit_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.fit_param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.fit_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of fitting parameter names.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.list_model_pts_to_run">
<code class="descname">list_model_pts_to_run</code><span class="sig-paren">(</span><em>fpath</em>, <em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.list_model_pts_to_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.list_model_pts_to_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate full list of model points that need to be run (not just parameter points but also all experimental conditions). Saves to HDF5 at fpath.</p>
<p>Note that this could be very slow if used on the initial grid (i.e. for potentially millions of points) - it’s better for after a subdivide call.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<cite>str</cite>) – path to save the list to (HDF5)</li>
<li><strong>verbose</strong> (<cite>bool</cite>) – flag for verbosity, defaults to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Do Bayes!
Will stop iterating through observations if/when &gt;= th_pm of probability mass is concentrated in &lt;= th_pv of boxes and decide it’s time to subdivide. (completely arbitrary thresholding for now)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>save_step</strong> (<cite>int</cite>) – interval (number of data points) at which to save intermediate PMF’s (defaults to 10, 0 to save only final, &lt;0 to save none)</li>
<li><strong>th_pm</strong> (<cite>float</cite>) – threshold quantity of probability mass to be concentrated in th_pv fraction of parameter space to trigger the run to stop (defaults to 0.9)</li>
<li><strong>th_pv</strong> (<cite>float</cite>) – threshold fraction of parameter space volume for th_pm fraction of probability to be concentrated into to trigger the run to stop (defaults to 0.05)</li>
<li><strong>min_num_pts</strong> (<cite>int</cite>) – minimum number of observation points to use - if threshold is reached before this number of points has been used, it will start over and the final PMF will be the average of the number of runs needed to use sufficient points (defaults to 0.7 * the number of experimental measurements)</li>
<li><strong>prob_bias</strong> (<cite>float</cite>) – number from 0 to 0.5, fraction of PMF from previous step to mix into prior for this step (defaults to 0) - higher values will likely converge faster but possibly have larger errors, especially if min_num_pts is small</li>
<li><strong>verbose</strong> (<cite>bool</cite>) – flag for verbosity, defaults to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.save_state">
<code class="descname">save_state</code><span class="sig-paren">(</span><em>filename='bayesim_state.h5'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.save_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the entire state of this model object to an HDF5 file so that work can be resumed later.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.set_param_info">
<code class="descname">set_param_info</code><span class="sig-paren">(</span><em>param_name</em>, <em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.set_param_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.set_param_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Set additional info for parameter param_name (any type).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>param_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of parameter to modify</li>
<li><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – units of parameter</li>
<li><strong>min_width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – minimum width of parameter (only for fitting params)</li>
<li><strong>display_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name to use on plots (can include TeX)</li>
<li><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – tolerance for this parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.subdivide">
<code class="descname">subdivide</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.subdivide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.subdivide" title="Permalink to this definition">¶</a></dt>
<dd><p>Subdivide the probability distribution and save the list of new sims to run to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>threshold_prob</strong> (<cite>float</cite>) – minimum probability of box to (keep and) subdivide (default 0.001)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.top_probs">
<code class="descname">top_probs</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.top_probs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.top_probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a DataFrame with the ‘num’ most probable points and some of the less interesting columns hidden.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.visualize_grid">
<code class="descname">visualize_grid</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.visualize_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.visualize_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize the current state of the grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>as pmf.visualize</strong><strong>(</strong><strong>)</strong> (<em>same</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.model.Model.visualize_probs">
<code class="descname">visualize_probs</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/model.html#Model.visualize_probs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.model.Model.visualize_probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize the PMF with a corner plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>as pmf.visualize</strong><strong>(</strong><strong>)</strong> (<em>same</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bayesim.params">
<span id="bayesim-params-module"></span><h2>bayesim.params module<a class="headerlink" href="#module-bayesim.params" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bayesim.params.Fit_param">
<em class="property">class </em><code class="descclassname">bayesim.params.</code><code class="descname">Fit_param</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Fit_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Fit_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bayesim.params.Param" title="bayesim.params.Param"><code class="xref py py-class docutils literal notranslate"><span class="pre">bayesim.params.Param</span></code></a></p>
<p>A bayesim fitting parameter. Because they will be initialized on a grid, each fitting parameter stores its full list of values as well as some other information such as the spacing between them and the minimum width of a box (used during grid subdivisions).</p>
<dl class="method">
<dt id="bayesim.params.Fit_param.get_closest_val">
<code class="descname">get_closest_val</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Fit_param.get_closest_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Fit_param.get_closest_val" title="Permalink to this definition">¶</a></dt>
<dd><p>Return closest value to val in this parameters current set of vals.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Fit_param.get_tol_digits">
<code class="descname">get_tol_digits</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Fit_param.get_tol_digits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Fit_param.get_tol_digits" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute number of digits to round to. ‘val’ must be provided if logspaced.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Fit_param.get_val_str">
<code class="descname">get_val_str</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Fit_param.get_val_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Fit_param.get_val_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string with this parameter’s value, reasonably formatted.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bayesim.params.Measured_param">
<em class="property">class </em><code class="descclassname">bayesim.params.</code><code class="descname">Measured_param</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Measured_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Measured_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bayesim.params.Param" title="bayesim.params.Param"><code class="xref py py-class docutils literal notranslate"><span class="pre">bayesim.params.Param</span></code></a></p>
<p>A bayesim measured parameter. Can be experimental input or output.</p>
</dd></dl>

<dl class="class">
<dt id="bayesim.params.Param">
<em class="property">class </em><code class="descclassname">bayesim.params.</code><code class="descname">Param</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A parameter in a bayesim analysis. Can be a fitting parameter or an experimental condition.</p>
<dl class="method">
<dt id="bayesim.params.Param.get_val_str">
<code class="descname">get_val_str</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param.get_val_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param.get_val_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bayesim.params.Param.set_tolerance">
<code class="descname">set_tolerance</code><span class="sig-paren">(</span><em>tol</em>, <em>islog=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param.set_tolerance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param.set_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the tolerance for this parameter.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bayesim.params.Param_list">
<em class="property">class </em><code class="descclassname">bayesim.params.</code><code class="descname">Param_list</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Small class to facilitate listing and comparison of bayesim parameters.</p>
<dl class="method">
<dt id="bayesim.params.Param_list.add_ec">
<code class="descname">add_ec</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.add_ec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.add_ec" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an experimental condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the parameter, required</li>
<li><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – units in which parameter is measured (defaults to ‘unitless’)</li>
<li><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – smallest difference between two values of this parameter to consider “real,” defaults to 1E-6</li>
<li><strong>is_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – set this to be the x-axis variable when plotting data, defaults to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.add_fit_param">
<code class="descname">add_fit_param</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.add_fit_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.add_fit_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a fitting parameter to the list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>param</strong> (<a class="reference internal" href="#bayesim.params.Fit_param" title="bayesim.params.Fit_param"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fit_param</span></code></a>) – A Fit_param object to add to the list</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the parameter, required if param object not passed</li>
<li><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – units in which parameter is measured (defaults to ‘unitless’)</li>
<li><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – smallest difference between two values of this parameter to consider “real”</li>
<li><strong>val_range</strong> (<cite>:obj:`list`</cite> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>) – [min, max] (either this or vals is required)</li>
<li><strong>vals</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>) – full list of vals for this param</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – initial length of this parameter (defaults to 10)</li>
<li><strong>min_width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – minimum box width for this parameter - subtractive if linear spacing and divisive if logarithmic (defaults to 0.01 of total range, required if providing val_range)</li>
<li><strong>spacing</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘linear’ or ‘log’ (defaults to linear)</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – verbosity flag</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.add_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.add_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an output variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the parameter, required</li>
<li><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – units in which parameter is measured (defaults to ‘unitless’)</li>
<li><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – smallest difference between two values of this parameter to consider “real,” defaults to 1E-6</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.all_params">
<code class="descname">all_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.all_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.all_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a flat list of all parameters of any type.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.find_param">
<code class="descname">find_param</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.find_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.find_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Param object with the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name to search for</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.get_ec_x">
<code class="descname">get_ec_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.get_ec_x"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.get_ec_x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.is_empty">
<code class="descname">is_empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.is_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.param_names">
<code class="descname">param_names</code><span class="sig-paren">(</span><em>param_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of parameter names. If no arguments provided, output will be a dict, if a type is provided, output will be a list of just the parameter names of that type.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.param_present">
<code class="descname">param_present</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.param_present"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.param_present" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the param name isn’t already present in a list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name to check for</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.set_ec_x">
<code class="descname">set_ec_x</code><span class="sig-paren">(</span><em>param_name</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.set_ec_x"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.set_ec_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the x-variable for experimental conditions.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.set_tolerance">
<code class="descname">set_tolerance</code><span class="sig-paren">(</span><em>param_name</em>, <em>tol</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.set_tolerance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.set_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the tolerance value for the given parameter.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.params.Param_list.vals_equal">
<code class="descname">vals_equal</code><span class="sig-paren">(</span><em>param_name</em>, <em>val1</em>, <em>val2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/params.html#Param_list.vals_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.params.Param_list.vals_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two values of a given param.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>param_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of parameter, must be in one of the lists</li>
<li><strong>val2</strong> (<em>val1</em><em>,</em>) – values to be compared</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if abs(val1-val2) &lt; tolerance of param_name</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bayesim.pmf">
<span id="bayesim-pmf-module"></span><h2>bayesim.pmf module<a class="headerlink" href="#module-bayesim.pmf" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bayesim.pmf.Pmf">
<em class="property">class </em><code class="descclassname">bayesim.pmf.</code><code class="descname">Pmf</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that stores a PMF capable of nested sampling / “adaptive mesh refinement”.</p>
<p>Stores probabilities in a DataFrame which associates regions of parameter space with probability values.</p>
<dl class="method">
<dt id="bayesim.pmf.Pmf.all_current_values">
<code class="descname">all_current_values</code><span class="sig-paren">(</span><em>param</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.all_current_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.all_current_values" title="Permalink to this definition">¶</a></dt>
<dd><p>List all values currently being considered for <cite>param</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this Pmf object in (readable) dictionary form.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.find_neighbor_boxes">
<code class="descname">find_neighbor_boxes</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.find_neighbor_boxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.find_neighbor_boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and return all boxes neighboring the box at <cite>index</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.likelihood">
<code class="descname">likelihood</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.likelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute likelihood over this Pmf’s parameter space given modeled data at the given EC’s for every parameter space point and a measurement at the same EC’s.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>meas</strong> (<cite>float</cite>) – one output value</li>
<li><strong>model_at_ec</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – DataFrame containing model data at the experimental condition of the measurement and uncertainty values in a column called ‘uncertainty’ for every point in parameter space</li>
<li><strong>output_col</strong> (<cite>str</cite>) – name of column with output variable</li>
<li><strong>ec</strong> – dict with keys of condition names and values</li>
<li><strong>meas</strong> – one output value e.g. J</li>
<li><strong>unc</strong> – uncertainty in measured value (stdev of a Gaussian)</li>
<li><strong>model_func</strong> – should accept one dict of params and one of conditions and output measurement (might deprecate)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.make_points_list">
<code class="descname">make_points_list</code><span class="sig-paren">(</span><em>params</em>, <em>total_prob=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.make_points_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.make_points_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for Pmf.__init__ as well as Pmf.subdivide.
Given names and values for parameters, generate DataFrame listing
values, bounds, and probabilities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>params</strong> (<a class="reference internal" href="#bayesim.params.Param_list" title="bayesim.params.Param_list"><code class="xref py py-class docutils literal notranslate"><span class="pre">Param_list</span></code></a>) – </li>
<li><strong>total_prob</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – total probability to divide among points in parameter space - for an initialization, this is 1.0, for a subdivide call will be less.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">obj:DataFrame with columns for each parameter’s value, min, and max
as well as a probability associated with that point in parameter
space</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.most_probable">
<code class="descname">most_probable</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.most_probable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.most_probable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the n largest probabilities in a new DataFrame.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.multiply">
<code class="descname">multiply</code><span class="sig-paren">(</span><em>other_pmf</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.multiply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.multiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute and store renormalized product of this Pmf with other_pmf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other_pmf</strong> (<a class="reference internal" href="#bayesim.pmf.Pmf" title="bayesim.pmf.Pmf"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pmf</span></code></a>) – PMF to multiply by</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize overall PMF.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.param_names">
<code class="descname">param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of parameter names of this PMF.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.populate_dense_grid">
<code class="descname">populate_dense_grid</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.populate_dense_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.populate_dense_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate a grid such as the one created by make_dense_grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>(</strong><strong>obj</strong> (<em>df</em>) – DataFrame): DataFrame to populate from (should have columns for every param)</li>
<li><strong>col_to_pull</strong> (<cite>str</cite>) – name of the column to use when populating grid points</li>
<li><strong>make_ind_lists</strong> (<cite>bool</cite>) – whether to return a list of indices corresponding to the first in every slice (used by bayesim.model.calc_model_gradients)</li>
<li><strong>return_edges</strong> (<cite>bool</cite>) – whether to return list of edge values also (used by bayesim.pmf.project_2D)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a dict with keys for each thing requested</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.project_1D">
<code class="descname">project_1D</code><span class="sig-paren">(</span><em>param</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.project_1D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.project_1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Project down to a one-dimensional PMF over the given parameter. Used by the visualize() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>param</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Fit_param</span></code>) – one of <cite>self.params</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bin edges for plotting with matplotlib.pyplot.hist (has length one more than next return list)
probs (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>): probability values for histogram-style plot - note that these technically have units of the inverse of whatever the parameter being plotted is (that is, they’re probability densities)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bins (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.project_2D">
<code class="descname">project_2D</code><span class="sig-paren">(</span><em>x_param</em>, <em>y_param</em>, <em>no_probs=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.project_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.project_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Project down to two dimensions over the two parameters. This one doesn’t actually need to sum, it just draws a bunch of (potentially overlapping) rectangles with transparencies according to their probability densities (as a fraction of the normalized area). Used by the visualize() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_param</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – one of <cite>self.params</cite>, to be the x-axis of the 2D joint plot</li>
<li><strong>y_param</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – one of <cite>self.params</cite>, to be the y-axis of the 2D joint plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">patches for plotting the 2D joint probability distribution</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.patches.Rectangle</span></code>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.subdivide">
<code class="descname">subdivide</code><span class="sig-paren">(</span><em>threshold_prob</em>, <em>include_neighbors=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.subdivide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.subdivide" title="Permalink to this definition">¶</a></dt>
<dd><p>Subdivide all boxes with P &gt; threshold_prob and assign “locally uniform” probabilities within each box. If include_neighbors is true, also subdivide all boxes neighboring those boxes.</p>
<p>Boxes with P &lt; threshold_prob are deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>threshold_prob</strong> (<cite>float</cite>) – probability above which a box should be retained</li>
<li><strong>include_neighbors</strong> (<cite>bool</cite>) – whether to also subdivide all immediate neighbors to boxes meeting the threshold</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.uniformize">
<code class="descname">uniformize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.uniformize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.uniformize" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep PMF shape and subdivisions but make every probability equal.
Useful for rerunning whole inference after subdividing.</p>
<p>Note that because subdivisions are not uniform that this is NOT a uniform prior anymore.</p>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.visualize">
<code class="descname">visualize</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.visualize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>Make histogram matrix to visualize the PMF.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>frac_points</strong> (<cite>float</cite>) – number &gt;0 and &lt;=1 indicating fraction of total points to visualize (will take the most probable, defaults to 1.0)</li>
<li><strong>just_grid</strong> (<cite>bool</cite>) – whether to show only the grid (i.e. visualize subdivisions) or the whole PMF (defaults to False)</li>
<li><strong>fpath</strong> (<cite>str</cite>) – optional, path to save image to</li>
<li><strong>true_vals</strong> (<cite>dict</cite>) – optional, set of param values to highlight on PMF</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bayesim.pmf.Pmf.weighted_avgs">
<code class="descname">weighted_avgs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bayesim/pmf.html#Pmf.weighted_avgs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesim.pmf.Pmf.weighted_avgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict with the weighted average for each parameter.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bayesim">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-bayesim" title="Permalink to this headline">¶</a></h2>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Rachel C Kurchin and Giuseppe Romano.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>